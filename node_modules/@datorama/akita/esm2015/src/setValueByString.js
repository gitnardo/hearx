/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { isObject } from './isObject';
/**
 * \@internal
 *
 * \@example
 * setValue(state, 'todos.ui', { filter: {} })
 * @param {?} obj
 * @param {?} prop
 * @param {?} val
 * @return {?}
 */
export function setValue(obj, prop, val) {
    /** @type {?} */
    const split = prop.split('.');
    if (split.length === 1) {
        return Object.assign({}, obj, val);
    }
    obj = Object.assign({}, obj);
    /** @type {?} */
    const lastIndex = split.length - 2;
    /** @type {?} */
    const removeStoreName = prop.split('.').slice(1);
    removeStoreName.reduce((/**
     * @param {?} acc
     * @param {?} part
     * @param {?} index
     * @return {?}
     */
    (acc, part, index) => {
        if (index === lastIndex) {
            if (isObject(acc[part])) {
                acc[part] = Object.assign({}, acc[part], val);
            }
            else {
                acc[part] = val;
            }
        }
        else {
            acc[part] = Object.assign({}, acc[part]);
        }
        return acc && acc[part];
    }), obj);
    return obj;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0VmFsdWVCeVN0cmluZy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BkYXRvcmFtYS9ha2l0YS8iLCJzb3VyY2VzIjpbInNyYy9zZXRWYWx1ZUJ5U3RyaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sWUFBWSxDQUFDOzs7Ozs7Ozs7OztBQVF0QyxNQUFNLFVBQVUsUUFBUSxDQUFDLEdBQVEsRUFBRSxJQUFZLEVBQUUsR0FBUTs7VUFDakQsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO0lBRTdCLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7UUFDdEIseUJBQVksR0FBRyxFQUFLLEdBQUcsRUFBRztLQUMzQjtJQUVELEdBQUcscUJBQVEsR0FBRyxDQUFFLENBQUM7O1VBRVgsU0FBUyxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQzs7VUFDNUIsZUFBZSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUVoRCxlQUFlLENBQUMsTUFBTTs7Ozs7O0lBQUMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFO1FBQzFDLElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtZQUN2QixJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRTtnQkFDdkIsR0FBRyxDQUFDLElBQUksQ0FBQyxxQkFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUssR0FBRyxDQUFFLENBQUM7YUFDdEM7aUJBQU07Z0JBQ0wsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQzthQUNqQjtTQUNGO2FBQU07WUFDTCxHQUFHLENBQUMsSUFBSSxDQUFDLHFCQUFRLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBRSxDQUFDO1NBQzlCO1FBRUQsT0FBTyxHQUFHLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzFCLENBQUMsR0FBRSxHQUFHLENBQUMsQ0FBQztJQUVSLE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi9pc09iamVjdCc7XG5cbi8qKlxuICogQGludGVybmFsXG4gKlxuICogQGV4YW1wbGVcbiAqIHNldFZhbHVlKHN0YXRlLCAndG9kb3MudWknLCB7IGZpbHRlcjoge30gfSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFZhbHVlKG9iajogYW55LCBwcm9wOiBzdHJpbmcsIHZhbDogYW55KSB7XG4gIGNvbnN0IHNwbGl0ID0gcHJvcC5zcGxpdCgnLicpO1xuXG4gIGlmIChzcGxpdC5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4geyAuLi5vYmosIC4uLnZhbCB9O1xuICB9XG5cbiAgb2JqID0geyAuLi5vYmogfTtcblxuICBjb25zdCBsYXN0SW5kZXggPSBzcGxpdC5sZW5ndGggLSAyO1xuICBjb25zdCByZW1vdmVTdG9yZU5hbWUgPSBwcm9wLnNwbGl0KCcuJykuc2xpY2UoMSk7XG5cbiAgcmVtb3ZlU3RvcmVOYW1lLnJlZHVjZSgoYWNjLCBwYXJ0LCBpbmRleCkgPT4ge1xuICAgIGlmIChpbmRleCA9PT0gbGFzdEluZGV4KSB7XG4gICAgICBpZiAoaXNPYmplY3QoYWNjW3BhcnRdKSkge1xuICAgICAgICBhY2NbcGFydF0gPSB7IC4uLmFjY1twYXJ0XSwgLi4udmFsIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY2NbcGFydF0gPSB2YWw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjY1twYXJ0XSA9IHsgLi4uYWNjW3BhcnRdIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjYyAmJiBhY2NbcGFydF07XG4gIH0sIG9iaik7XG5cbiAgcmV0dXJuIG9iajtcbn1cbiJdfQ==